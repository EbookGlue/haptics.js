<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Haptics.js by Shantanu Bala</title>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="stylesheets/prism.css">
    <link rel="stylesheet" href="stylesheets/styles.css">

    <script type="text/javascript" src="javascripts/prism.js"></script>
    <script type="text/javascript">
  WebFontConfig = {
    google: { families: [ 'Source+Code+Pro:400,700:latin', 'Source+Sans+Pro:400,400italic,600,700,600italic,700italic:latin' ] }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })(); </script>

    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="row">
        <div class="col-lg-4">
          <header>
            <h1>Haptics.js</h1>
            <p>A library for enabling haptic effects on web sites using HTML5. In addition to providing a cross-browser wrapper, haptics.js also allows you to quickly create new tactile effects using vibrations.</p>
            <p><a class="btn btn-primary btn-block btn-lg" href="https://github.com/shantanubala/haptics.js/zipball/master"><span class="fa fa-download"></span> Download</a></p>
            <p><a class="btn btn-default btn-block btn-lg" href="https://github.com/shantanubala/haptics.js"><span class="fa fa-github"></span> View On GitHub</a></p>
            <p>Released under an <a href="https://github.com/shantanubala/haptics.js/blob/master/LICENSE">MIT License</a></p>
            <p>&copy; 2016 <a href="http://sbala.org/">Shantanu Bala</a> and <a href="https://somaticlabs.io/">Somatic Labs</a></p>
          </header>
        </div>
        <div class="col-lg-8">
          <section>
            <h2>Deliver vibrations on the web.</h2>
            <p>Haptics.js is a simple JavaScript library that allows you to implement vibrotactile effects using the HTML5 implementation of <code>navigator.vibrate</code>. In addition to providing a cross-browser compatibility layer, Haptics.js allows you to quickly create different vibrotactile effects, including fading vibrations, heartbeats, notifications, and error alerts.</p>
            <h3>Where can you use Haptics.js?</h3>
            <p>Haptics.js can be added to any web page to provide enhanced interactivity and a more interesting user interface. Haptics.js is great for:</p>
            <ul>
                <li>Adding vibrotactile feedback to games written in HTML5</li>
                <li>Providing vibration notifications in an HTML5 web application</li>
                <li>Delivering tactile responses for on-page buttons</li>
                <li>Creating a richer layer of interactivity in media (e.g. providing tactile sensations along with audio and video)</li>
            </ul>
            <h3>Open Source License</h3>
            <p>Haptics.js is available under the <a href="https://github.com/shantanubala/haptics.js/blob/master/LICENSE">MIT License</a>, and can be used and redistributed freely. If you make improvements, please contibute them back to the community!</p>
            <h3>Browser Compatibility</h3>
            <p>Haptics.js is supported by all browsers that implement the HTML5 <code>navigator.vibrate</code> API. As of 2014, Firefox, Chrome, and Opera have implemented this API.</p>
          </section>
          <section>
            <h2>Get started in 10 minutes.</h2>
            <p>Getting started with Haptics.js is easy! First, include the JavaScript file in your page using a <code>&lt;script&gt;</code> tag:</p>
            <pre><code class="language-markup" data-src="prism.js">&lt;script type="text/javascript" src="//raw.githubusercontent.com/shantanubala/haptics.js/master/haptics.js"&gt;&lt;/script&gt;</code></pre>
            <p>We only recommend using GitHub for testing and prototyping. Once you're ready to deploy in production, <a href="https://raw.githubusercontent.com/shantanubala/haptics.js/master/haptics.js">download the haptics.js file</a> and serve it from your own server or CDN directly -- it will load much faster.</p>
            <h3>Deliver a Vibration</h3>
            <p>Haptics.js provides a cross-browser <code>vibrate</code> function that accepts a single duration or array with durations and gaps. The following causes a device to vibrate for 200 milliseconds:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.vibrate(200);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <p>Haptics.js also allows you to create temporal patterns of vibration. The following code vibrates for 400ms, pauses for 200ms, vibrates for 1,000ms, pauses for 200ms, and vibrates for 400ms:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.vibrate([400, 200, 1000, 200, 400]);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <h3>Feel a Beat</h3>
            <p>In addition to allowing you to send individual pulses of vibration, Haptics.js includes a number of built-in effects that can help you quickly create a more interactive application. A heartbeat is a great way to indicate loading or pace:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.heartbeat(500);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <p>The above code runs a "heartbeat" pattern lasting for 1 second. You can also provide an array of durations with the same API as <code>Haptics.vibrate</code>:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.heartbeat([500, 500, 500]);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <p>The code above will present the user with a heartbeat for 500ms, pause for 500ms, and then present a second heartbeat for 500ms.</p>
            <h3>Get a Fade</h3>
            <p>In addition to heartbeats, you can fade in with vibration:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.fadeIn(1000);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <p>You can also provide a sequences of vibrations that fade in:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.fadeIn([500, 100, 500]);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <p>You can also fade out:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.fadeOut(1000);</code></pre>
            <p>Likewise, you can provide a sequence of vibrations that fade out:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.fadeOut([500, 100, 500]);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
          </section>
          <section>
            <h2>Pulse Width Modulation (PWM)</h2>
            <p>Vibration motors in most cell phones don't allow you to control the intensity of vibration. Instead, they have binary states -- "on" and "off". To simulate the feeling of a less intense vibration, you can use <a href="http://en.wikipedia.org/wiki/Pulse-width_modulation">pulse width modulation</a> to rapidly turn the vibration motor on and off. Since the vibration motor is only on for a fraction of the time, it feels like a less intense vibration.</p>
            <h3>PWM in Haptics.js</h3>
            <p>Haptics.js provides a simple PWM implementation:</p>
            <pre><code class="language-javascript" data-src="prism.js">var on = 30, off = 10, duration = 500;
Haptics.pwm(duration, on, off);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <p>The above code will create a vibration lasting 500ms consisting of small vibrotactile pulses lasting 30ms in duration with a 10ms gap between each pulse to reduce the overall intensity.</p>
            <h3>Creating PWM Functions</h3>
            <p>You can create a shortcut for your own PWM settings using the <code>Haptics.createPatternPWM</code> function. The code below delivers the same PWM pulse as the code above, but it creates a reusable function with the desired settings:</p>
            <pre><code class="language-javascript" data-src="prism.js">var mediumPWM = Haptics.createPatternPWM(30, 10);
mediumPWM(500);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <p>Any functions created using <code>Haptics.createPatternPWM</code> follow the same conventions as <code>Haptics.vibrate</code>, and also accept arrays as parameters:</p>
            <pre><code class="language-javascript" data-src="prism.js">var mediumPWM = Haptics.createPatternPWM(30, 10);
mediumPWM([500, 100, 500]);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
          </section>
          <section>
            <h2>Create Custom Vibration Patterns</h2>
            <p>In addition to using the patterns provided, Haptics.js provides a set of utilities that allow you to quickly create your own vibration patterns. You can use a function, an array, or a set of functions.</p>
            <h3>Create a Pattern Function</h3>
            <p>Every pattern function must accept a single integer value for duration. Here is an example:</p>
            <pre><code class="language-javascript" data-src="prism.js">function newPattern(duration) {
    var chunk = duration / 3;
    Haptics.vibrate([chunk, chunk, chunk]);
}</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <p>The above pattern <code>newPattern</code> will take a duration and turn on the vibration motor for a third of the duration, pause for a third of the duration, and turn the motor on again for a third of the duration. To allow your pattern to accept arrays of integers, Haptics.js provides a <code>Haptics.createPattern</code> utility:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.thirdPattern = Haptics.createPattern(newPattern);</code></pre>
            <p>From here, the function <code>Haptics.thirdPattern</code> can be used just like <code>Haptics.vibrate</code> -- it will accept either an integer or an array of integer durations:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.thirdPattern([500, 100, 500]);
Haptics.thirdPattern(500);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <h3>Create a Duration Array</h3>
            <p>The <code>Haptics.sequenceFactor</code> function doesn't just accept a function as a parameter -- it also accepts arrays. Instead of creating a function that takes the duration as input, you can specify integer values that act as ratios. This feature is easiest to illustrate with a quick example:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.thirdPattern = Haptics.createPattern([1, 1, 1]);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <p>The above code creates an equivalent <code>Haptics.thirdPattern</code> function with fewer lines of code. The ratios can be modified a little bit:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.fifthPattern = Haptics.createPattern([2, 1, 2]);
Haptics.fifthPattern(500);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <p>The above code will result in a 200ms vibration, followed by a 100ms pause, followed by a 200ms vibration. Note that integer division is used to generate the final vibration pattern, so durations may be off by up to 1ms for each pulse.</p>
            <h3>Combine Existing Patterns</h3>
            <p>Two or more vibration patterns can be quickly combined into a single pattern using the <code>Haptics.patternFactory</code> function. Simply provide each pattern as a parameter. For example, to create a vibration that fades in and then fades out, you can combine the <code>Haptics.fadeIn</code> and <code>Haptics.fadeOut</code> functions as shown below:</p>
            <pre><code class="language-javascript" data-src="prism.js">Haptics.fadeInOut = Haptics.patternFactory(Haptics.fadeIn, Haptics.fadeOut);</code></pre>
            <p><a href="#" class="btn btn-sm btn-default run-code"><span class="fa fa-angle-double-right"></span> Run Code</a></p>
            <p>As you can see, Haptics.js is not just a way to turn on the vibration motor. Instead, it's a fun framework for building more interesting temporal patterns and vibrotactile sensations. Enjoy!</p>
          </section>
        </div>
      </div>
    </div>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="haptics.js"></script>
    <script type="text/javascript">
    jQuery(function ($) {
      $("a.run-code").on("click", function (e) {
        e.preventDefault();
        var code = $(e.target).parent().prev().text();
        eval(code);
      });
    });
    </script>
  </body>
</html>
